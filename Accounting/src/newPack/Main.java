package newPack;import java.io.IOException;import java.nio.file.Files;import java.nio.file.Path;import java.util.ArrayList;import java.util.Arrays;import java.util.List;import java.util.Scanner;public class Main {    public static void main(String[] args) {        Scanner scanner = new Scanner(System.in);        Record recordMonth;        RecordYear recordYear;        List<RecordYear> yearList = new ArrayList<>();        List<MonthlyReport> monthList = new ArrayList<>();        MonthlyReport monthlyReport = null;        YearlyReport yearlyReport = null;        printMenu();        System.out.print("сделайте выбор: ");        int choice = scanner.nextInt();        while (choice != 6) {            switch (choice) {                case 1:                    System.out.print("введите путь к файлу: ");                    String monthDirectory = scanner.next();                    for (int i = 1; i < 4; i++) {                        monthlyReport = new MonthlyReport(i);                        String currentFileName = "m.20210" + i + ".csv";                        String monthString = readFileContentsOrNull(monthDirectory + currentFileName);                        String[] lines = monthString.split(System.lineSeparator());                        for (int j = 1; j < lines.length; j++) {                            String[] record = lines[j].split(",");                            System.out.println(Arrays.asList(record));                            String item = record[0];                            boolean profit = Boolean.parseBoolean(record[1]);                            int q = Integer.parseInt(record[2]);                            int s = Integer.parseInt(record[3]);                            recordMonth = new Record(item, profit, q, s);                            monthlyReport.setRecordList(recordMonth);                        }                        monthList.add(monthlyReport);                        System.out.println("месяц "+ monthlyReport.getMonth()+ " добавлен \n");                    }                    break;                case 2:                    System.out.print("введите путь к файлу: ");                    String yearDirectory = scanner.next() + "y.2021.csv";                    String yearString = readFileContentsOrNull(yearDirectory);                    String[] year = yearString.split(System.lineSeparator());                    for (int i = 1; i < year.length; i++) {                        String[] yearRecord = year[i].split(",");                        System.out.println(Arrays.asList(yearRecord));                        int monthNum = Integer.parseInt(yearRecord[0]);                        int amount = Integer.parseInt(yearRecord[1]);                        boolean isExpense = Boolean.parseBoolean(yearRecord[2]);                        recordYear = new RecordYear(monthNum, amount, isExpense);                        yearList.add(recordYear);                    }                    yearlyReport = new YearlyReport(yearList);                    break;                case 3:                    if (monthlyReport != null && yearlyReport != null){                        for (int i = 0; i < monthList.size(); i++) {                            int monthProfit = monthList.get(i).getMonthProfit();                            System.out.println("прибыль " + monthProfit + " из месячного отчета");                            System.out.println("прибыль " + yearlyReport.getMonthProfit(i+1) + " из годового отчета");                            int monthExpense = monthList.get(i).getMonthExpense();                            System.out.println("расходы " + monthExpense + " из месячного отчета");                            System.out.println("расходы " + yearlyReport.getMonthExpense(i+1) + " из годового отчета");                            if (monthProfit == yearlyReport.getMonthProfit(i+1) &&                                    monthExpense == yearlyReport.getMonthExpense(i+1)){                                System.out.println("отчеты за "+ monthList.get(i).getMonth() + " совпали" + "\n");                            } else {                                System.out.println("отчеты не совпали");                            }                        }                    } else {                        System.out.println("добавьте отчеты");                    }                    break;                case 4:                    if (monthlyReport != null) {                        for(MonthlyReport ml : monthList) {                            System.out.println(ml.getMonth());                            System.out.print("самый прибильный товар: " + ml.getMostProfitableRecord().getItemName() + " - ");                            System.out.println(ml.getMostProfitableRecord().getSum());                            System.out.print("самый затрачиваемый товар: " + ml.getMostExpensableRecord().getItemName() + " - ");                            System.out.println(ml.getMostExpensableRecord().getSum() + "\n");                        }                    } else {                        System.out.println("добавьте месячные отчеты" + "\n");                    }                    break;                case 5:                    if (yearlyReport != null) {                        System.out.println("в 2021 году ");                        for (int i = 0; i < monthList.size(); i++) {                            System.out.println("прибыль за " + monthlyReport.getMonthName(i+1) + ": "                                    + yearlyReport.getYearProfit(i+1));                        }                        System.out.println("средний доход: " + yearlyReport.getMedProfit());                        System.out.println("средний расход: " + yearlyReport.getMedExpense() + "\n");                    } else {                        System.out.println("добавьте годовой отчет");                    }                    break;                default:                    System.out.println("!!!");                    break;            }            printMenu();            System.out.print("сделайте выбор: ");            choice = scanner.nextInt();        }    }    public static void printMenu() {        System.out.println("1. Считать все месячные отчеты");        System.out.println("2. Считать годовой отчет");        System.out.println("3. Сверить отчеты");        System.out.println("4. Вывести инфо о всех мес.отчетах");        System.out.println("5. Вывести инфо о годовом отчете");        System.out.println("6. Выйти");    }    private static String readFileContentsOrNull(String path) {        try {            return Files.readString(Path.of(path));        } catch (IOException e) {            System.out.println("Невозможно прочитать файл с месячным отчётом. Возможно, файл не находится в нужной директории.");            return null;        }    }}